{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Acer/repos/IotProject/internet_of_thing/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/Acer/repos/IotProject/internet_of_thing/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/Acer/repos/IotProject/internet_of_thing/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Acer\\\\repos\\\\IotProject\\\\internet_of_thing\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from\"axios\";console.log(window.location.origin);var api=axios.create({baseURL:window.location.origin});export function getSensorData(){return _getSensorData.apply(this,arguments);}function _getSensorData(){_getSensorData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return api.get('/sensorData');case 3:response=_context.sent;return _context.abrupt(\"return\",{success:true,response:_objectSpread({},response.data)});case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(_context.t0);return _context.abrupt(\"return\",_objectSpread({success:false},_context.t0));case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _getSensorData.apply(this,arguments);}export function getDeviceData(){return _getDeviceData.apply(this,arguments);}function _getDeviceData(){_getDeviceData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _console,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return api.get('/deviceData');case 3:response=_context2.sent;// console.log(\"getDeviceData\")\n(_console=console).log.apply(_console,_toConsumableArray(response.data));return _context2.abrupt(\"return\",{success:true,response:_objectSpread({},response.data)});case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);return _context2.abrupt(\"return\",_objectSpread({success:false},_context2.t0));case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return _getDeviceData.apply(this,arguments);}export function updateDeviceState(_x,_x2){return _updateDeviceState.apply(this,arguments);}function _updateDeviceState(){_updateDeviceState=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(device,state){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;console.log(\"device: \".concat(device,\", state: \").concat(state));_context3.next=4;return api.put(\"/\".concat(device,\"/\").concat(state));case 4:response=_context3.sent;console.log(response);return _context3.abrupt(\"return\",_objectSpread({success:true},response));case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](0);console.error(_context3.t0);return _context3.abrupt(\"return\",_objectSpread({success:false},_context3.t0));case 13:case\"end\":return _context3.stop();}}},_callee3,null,[[0,9]]);}));return _updateDeviceState.apply(this,arguments);}","map":{"version":3,"sources":["C:/Users/Acer/repos/IotProject/internet_of_thing/src/API/IoT.js"],"names":["axios","console","log","window","location","origin","api","create","baseURL","getSensorData","get","response","success","data","error","getDeviceData","updateDeviceState","device","state","put"],"mappings":"4iBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACAC,OAAO,CAACC,GAAR,CAAYC,MAAM,CAACC,QAAP,CAAgBC,MAA5B,EACA,GAAMC,CAAAA,GAAG,CAAGN,KAAK,CAACO,MAAN,CAAa,CACvBC,OAAO,CAAEL,MAAM,CAACC,QAAP,CAAgBC,MADF,CAAb,CAAZ,CAIA,eAAsBI,CAAAA,aAAtB,gD,iGAAO,sLAEoBH,CAAAA,GAAG,CAACI,GAAJ,CAAQ,aAAR,CAFpB,QAEGC,QAFH,+CAGI,CAAEC,OAAO,CAAE,IAAX,CAAiBD,QAAQ,kBAAOA,QAAQ,CAACE,IAAhB,CAAzB,CAHJ,0DAKHZ,OAAO,CAACa,KAAR,cALG,+CAMMF,OAAO,CAAE,KANf,oF,gDAUP,eAAsBG,CAAAA,aAAtB,gD,iGAAO,sMAEoBT,CAAAA,GAAG,CAACI,GAAJ,CAAQ,aAAR,CAFpB,QAEGC,QAFH,gBAGH;AACA,UAAAV,OAAO,EAACC,GAAR,mCAAeS,QAAQ,CAACE,IAAxB,GAJG,iCAKI,CAAED,OAAO,CAAE,IAAX,CAAiBD,QAAQ,kBAAOA,QAAQ,CAACE,IAAhB,CAAzB,CALJ,6DAOHZ,OAAO,CAACa,KAAR,eAPG,gDAQMF,OAAO,CAAE,KARf,uF,gDAYP,eAAsBI,CAAAA,iBAAtB,0D,yGAAO,kBAAiCC,MAAjC,CAAyCC,KAAzC,oJAEHjB,OAAO,CAACC,GAAR,mBAAuBe,MAAvB,qBAAyCC,KAAzC,GAFG,uBAGoBZ,CAAAA,GAAG,CAACa,GAAJ,YAAYF,MAAZ,aAAsBC,KAAtB,EAHpB,QAGGP,QAHH,gBAIHV,OAAO,CAACC,GAAR,CAAYS,QAAZ,EAJG,gDAKMC,OAAO,CAAE,IALf,EAKwBD,QALxB,8DAOHV,OAAO,CAACa,KAAR,eAPG,gDAQMF,OAAO,CAAE,KARf,uF","sourcesContent":["import axios from \"axios\";\r\nconsole.log(window.location.origin);\r\nconst api = axios.create({\r\n  baseURL: window.location.origin,\r\n});\r\n\r\nexport async function getSensorData() {\r\n  try {\r\n    const response = await api.get('/sensorData');\r\n    return { success: true, response: { ...response.data } };\r\n  } catch (error) {\r\n    console.error(error);\r\n    return { success: false, ...error };\r\n  }\r\n}\r\n\r\nexport async function getDeviceData() {\r\n  try {\r\n    const response = await api.get('/deviceData');\r\n    // console.log(\"getDeviceData\")\r\n    console.log(...response.data)\r\n    return { success: true, response: { ...response.data } };\r\n  } catch (error) {\r\n    console.error(error);\r\n    return { success: false, ...error };\r\n  }\r\n}\r\n\r\nexport async function updateDeviceState(device, state) {\r\n  try {\r\n    console.log(`device: ${device}, state: ${state}`);\r\n    const response = await api.put(`/${device}/${state}`);\r\n    console.log(response);\r\n    return { success: true, ...response };\r\n  } catch (error) {\r\n    console.error(error);\r\n    return { success: false, ...error };\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}